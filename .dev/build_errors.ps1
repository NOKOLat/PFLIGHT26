$make_path = "C:\ST\STM32CubeIDE_1.19.0\STM32CubeIDE\plugins\com.st.stm32cube.ide.mcu.externaltools.make.win32_2.2.0.202409170845\tools\bin"
$gnu_path  = "C:\ST\STM32CubeIDE_1.19.0\STM32CubeIDE\plugins\com.st.stm32cube.ide.mcu.externaltools.gnu-tools-for-stm32.13.3.rel1.win32_1.0.0.202411081344\tools\bin"
$env:PATH = "$gnu_path;$make_path;" + $env:PATH

$output = & "$make_path\make.exe" -C "C:\LocalProject\STM32CubeIDE\PFLIGHT26\Debug" all 2>&1
$output | Select-String -Pattern "error:|warning:|Finished|Entering|Leaving"
